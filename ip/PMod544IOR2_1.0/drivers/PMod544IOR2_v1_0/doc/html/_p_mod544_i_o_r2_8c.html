<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Pmod544IOR2 Driver API: C:/PSU_Projects/ECE544_Winter15_Projects/IP/ip_repo/PMod544IOR2_1.0/drivers/PMod544IOR2_v1_0/src/PMod544IOR2.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pmod544IOR2 Driver API
   </div>
   <div id="projectbrief">Produce API docuentation for Pmod544IOR2 drivers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c9f0bd99d6d5255f2c41f5755c578122.html">ip_repo</a></li><li class="navelem"><a class="el" href="dir_228e73d1aad26225b16c9aa72dd2bbc5.html">PMod544IOR2_1.0</a></li><li class="navelem"><a class="el" href="dir_8ab04c0e5147a0ef5549f9f1e6995c0a.html">drivers</a></li><li class="navelem"><a class="el" href="dir_8a8fce66dc08c33c39121ddefb7719d4.html">PMod544IOR2_v1_0</a></li><li class="navelem"><a class="el" href="dir_e3766300bd536d7e2702d30b5d9bea87.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">PMod544IOR2.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_p_mod544_i_o_r2_8h_source.html">PMod544IOR2.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a469929f9b9bb477bb45381840ff90495"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a469929f9b9bb477bb45381840ff90495"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PMDIO_usleep</b> (u32 usecs)</td></tr>
<tr class="separator:a469929f9b9bb477bb45381840ff90495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad4ae516598ed454c641c3f665e00398"><td class="memItemLeft" align="right" valign="top">XStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#aad4ae516598ed454c641c3f665e00398">PMDIO_initialize</a> (u32 BaseAddr)</td></tr>
<tr class="separator:aad4ae516598ed454c641c3f665e00398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae366ba0a8873bca2938adf8dc547fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#adae366ba0a8873bca2938adf8dc547fa">PMDIO_ROT_init</a> (int inc_dec_cnt, bool no_neg)</td></tr>
<tr class="separator:adae366ba0a8873bca2938adf8dc547fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad311997b5e0c6a5a6cc47c4e63a4e4de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#ad311997b5e0c6a5a6cc47c4e63a4e4de">PMDIO_ROT_clear</a> (void)</td></tr>
<tr class="separator:ad311997b5e0c6a5a6cc47c4e63a4e4de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32816b33d24f38d8f77fcc1d7f4aa06c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#a32816b33d24f38d8f77fcc1d7f4aa06c">PMDIO_ROT_readRotcnt</a> (int *rotaryCnt_p)</td></tr>
<tr class="separator:a32816b33d24f38d8f77fcc1d7f4aa06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161db615aceac52c2d77795817d44283"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#a161db615aceac52c2d77795817d44283">PMDIO_ROT_isBtnPressed</a> (void)</td></tr>
<tr class="separator:a161db615aceac52c2d77795817d44283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a18a9431d557fec24ab98a058a5f94"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#a52a18a9431d557fec24ab98a058a5f94">PMDIO_ROT_isSwOn</a> (void)</td></tr>
<tr class="separator:a52a18a9431d557fec24ab98a058a5f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a065ff19db65f6bf7b52554c4d6d59f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#a4a065ff19db65f6bf7b52554c4d6d59f">PMDIO_LCD_docmd</a> (u32 lcdcmd, u32 lcddata)</td></tr>
<tr class="separator:a4a065ff19db65f6bf7b52554c4d6d59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3378fb8b53005d56a6576fd428fd396a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#a3378fb8b53005d56a6576fd428fd396a">PMDIO_LCD_setcursor</a> (u32 row, u32 col)</td></tr>
<tr class="separator:a3378fb8b53005d56a6576fd428fd396a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa601b0dd1c458c0891d9b95701783cbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#aa601b0dd1c458c0891d9b95701783cbe">PMDIO_LCD_wrchar</a> (char ch)</td></tr>
<tr class="separator:aa601b0dd1c458c0891d9b95701783cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21602d76ba20c1ace4046bbd1e354b25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#a21602d76ba20c1ace4046bbd1e354b25">PMDIO_LCD_shiftl</a> (void)</td></tr>
<tr class="separator:a21602d76ba20c1ace4046bbd1e354b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ea30a231a6e41cbbe5bbd241f574f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#ae4ea30a231a6e41cbbe5bbd241f574f1">PMDIO_LCD_shiftr</a> (void)</td></tr>
<tr class="separator:ae4ea30a231a6e41cbbe5bbd241f574f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45e8c61b1d43d8869300f6c3010c8b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#af45e8c61b1d43d8869300f6c3010c8b8">PMDIO_LCD_setcgadr</a> (u32 addr)</td></tr>
<tr class="separator:af45e8c61b1d43d8869300f6c3010c8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42dc1bbee0f42d01b53a0a49f332dd63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#a42dc1bbee0f42d01b53a0a49f332dd63">PMDIO_LCD_setddadr</a> (u32 addr)</td></tr>
<tr class="separator:a42dc1bbee0f42d01b53a0a49f332dd63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a186c9ab22f656f47896d5d096288d699"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#a186c9ab22f656f47896d5d096288d699">PMDIO_LCD_clrd</a> (void)</td></tr>
<tr class="separator:a186c9ab22f656f47896d5d096288d699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59b8fe0efa25fed49bd8d9d3aa84328"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#ac59b8fe0efa25fed49bd8d9d3aa84328">PMDIO_LCD_itoa</a> (int value, char *string, int radix)</td></tr>
<tr class="separator:ac59b8fe0efa25fed49bd8d9d3aa84328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2f830d3327ff46a55c402d81e03506"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#afe2f830d3327ff46a55c402d81e03506">PMDIO_LCD_wrstring</a> (char *s)</td></tr>
<tr class="separator:afe2f830d3327ff46a55c402d81e03506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ebe548ed0c51a41e49229d98586493"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#ac4ebe548ed0c51a41e49229d98586493">PMDIO_LCD_puthex</a> (u32 num)</td></tr>
<tr class="separator:ac4ebe548ed0c51a41e49229d98586493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934464c6df84cbf99f50831525835e66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_mod544_i_o_r2_8c.html#a934464c6df84cbf99f50831525835e66">PMDIO_LCD_putnum</a> (int num, int radix)</td></tr>
<tr class="separator:a934464c6df84cbf99f50831525835e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Roy Kravitz (<a href="#" onclick="location.href='mai'+'lto:'+'roy'+'.k'+'rav'+'it'+'z@p'+'dx'+'.ed'+'u'; return false;">roy.k<span style="display: none;">.nosp@m.</span>ravi<span style="display: none;">.nosp@m.</span>tz@pd<span style="display: none;">.nosp@m.</span>x.ed<span style="display: none;">.nosp@m.</span>u</a>) </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Portland State University, 2014, 2015</dd></dl>
<p>This file implements the driver functions for the PModECE544IO custom peripheral. The peripheral provides access to the PMOD's required for ECE544. These PMODCLP - A 2 line by 16 character LCD with an 8-bit parallel interface PMODENC - A rotary encoder with a pushbutton and slide switch.</p>
<p>The PMODCLP and PMODENC are both controlled by Picoblaze-based firmware in the peripheral. The rotary encoder pushbutton and slide switch are debounced in hardware with an instance of debounce.v (also used in the Nexys4IO custom peripheral).</p>
<pre>
MODIFICATION HISTORY:</pre><pre>Ver   Who  Date     Changes
</p><hr/>
<p>
1.00a   rhk 12/20/14    First release of driver
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aad4ae516598ed454c641c3f665e00398"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XStatus PMDIO_initialize </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>BaseAddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the PModECE544IO peripheral driver</p>
<p>Saves the Base address of the PModECE544IO registers and runs the selftest (only the first time the peripheral is initialized). If the self-test passes the function sets the rotary encoder mode and clears the rotary encoder count. Finishes off by clearing the LCD.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">BaseAddr</td><td>is the base address of the NEXYS4IO register set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS Initialization was successful.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function can hang if the peripheral was not created correctly </dd>
<dd>
The Base Address of the PmodECE544IO peripheral will be in xparameters.h </dd></dl>

</div>
</div>
<a class="anchor" id="a186c9ab22f656f47896d5d096288d699"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_clrd </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LCD_clrd() - Clear the display</p>
<p>Writes blanks to the display and returns the cursor home.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NONE</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS </dd></dl>

</div>
</div>
<a class="anchor" id="a4a065ff19db65f6bf7b52554c4d6d59f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_docmd </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>lcdcmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>lcddata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute an LCD command</p>
<p>Executes the LCD command in "lcdcmd" using the data in "lcdata". Controls the handshaking between the driver and the peripheral.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcdcmd</td><td>ia rhw LCD command to execute </td></tr>
    <tr><td class="paramname">lcddata</td><td>is the data for the command. Not all commands have data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS</dd></dl>
<dl class="section note"><dt>Note</dt><dd>only the lower 8-bits of lcdcmd and lcdata are used </dd></dl>

</div>
</div>
<a class="anchor" id="ac59b8fe0efa25fed49bd8d9d3aa84328"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* PMDIO_LCD_itoa </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an integer to ASCII characters</p>
<p>algorithm borrowed from ReactOS system libraries</p>
<p>Converts an integer to ASCII in the specified base. Assumes string[] is long enough to hold the result plus the terminating null</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>is the integer to convert </td></tr>
    <tr><td class="paramname">*string</td><td>is the address of buffer large enough to hold the converted number plus the terminating null </td></tr>
    <tr><td class="paramname">radix</td><td>is the base to use in conversion,</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the return string</dd></dl>
<dl class="section note"><dt>Note</dt><dd>No size check is done on the return string size. Make sure you leave room for the full string plus the terminating null </dd></dl>

</div>
</div>
<a class="anchor" id="ac4ebe548ed0c51a41e49229d98586493"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_puthex </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a 32-bit unsigned hex number to LCD display in Hex</p>
<p>Writes 32-bit unsigned number to the LCD display starting at the current cursor position.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>is the number to display as a hex value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS</dd></dl>
<dl class="section note"><dt>Note</dt><dd>No size checking is done to make sure the string will fit into a single line, or the entire display, for that matter. Watch your string sizes. </dd></dl>

</div>
</div>
<a class="anchor" id="a934464c6df84cbf99f50831525835e66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_putnum </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a 32-bit number in Radix "radix" to LCD display</p>
<p>Writes a 32-bit number to the LCD display starting at the current cursor position. "radix" is the base to output the number in.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>is the number to display</td></tr>
    <tr><td class="paramname">radix</td><td>is the radix to display number in</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS </dd></dl>
<dl class="section note"><dt>Note</dt><dd>No size checking is done to make sure the string will fit into a single line, or the entire display, for that matter. Watch your string sizes. </dd></dl>

</div>
</div>
<a class="anchor" id="af45e8c61b1d43d8869300f6c3010c8b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_setcgadr </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the character generator RAM Address</p>
<p>Sets the CG RAM address to the value in "addr". The function also serves the purpose of telling the LCD controller that the character data should be written to the character generator RAM instead of the data RAM. The character generator RAM contains 8 user defined custom characters</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>is the address in tha character generator ROM</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS</dd></dl>
<dl class="section note"><dt>Note</dt><dd>: only the low order 6-bits of the address are used </dd></dl>

</div>
</div>
<a class="anchor" id="a3378fb8b53005d56a6576fd428fd396a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_setcursor </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Position the LCD cursor at {line, col}</p>
<p>Position the cursor at the specified position. The next character will be written there.</p>
<p>The display is formed of 2 lines of 16 characters and each position has a corresponding address as indicated below. </p><pre class="fragment">              Character position
      0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15
</pre><p> Line 1 - 80 81 82 83 84 85 86 87 88 89 8A 8B 8C 8D 8E 8F Line 2 - C0 C1 C2 C3 C4 C5 C6 C7 C8 C9 CA CB CC CD CE CF</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>is the row on the display to set the cursor to. There are two lines </td></tr>
    <tr><td class="paramname">col</td><td>in the character position on the line. There are 16 characters per line</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS </dd></dl>

</div>
</div>
<a class="anchor" id="a42dc1bbee0f42d01b53a0a49f332dd63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_setddadr </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LCD_setddadr() - Set the data RAM Address</p>
<p>Sets the data RAM address to the value in "addr". The function also serves the purpose of telling the LCD controller that the character data should be written to the display RAM instead of the character generator RAM.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>is the address in the diplay RAM</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS</dd></dl>
<dl class="section note"><dt>Note</dt><dd>use LCD_setcursor() to set the position using {row, col} addressing </dd>
<dd>
only the low order 7-bits of the address are used </dd></dl>

</div>
</div>
<a class="anchor" id="a21602d76ba20c1ace4046bbd1e354b25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_shiftl </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shifts the entire display left one position</p>
<p>Shifts the display left one position without changing display RAM contents. When the displayed data is shifted repeatedly, both lines move horizontally. The second display line does not shift into the first display line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NONE</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS </dd></dl>

</div>
</div>
<a class="anchor" id="ae4ea30a231a6e41cbbe5bbd241f574f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_shiftr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shifts the entire display right one position</p>
<p>Shifts the display right one position without changing display RAM contents. When the displayed data is shifted repeatedly, both lines move horizontally. The second display line does not shift into the first display line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NONE</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS </dd></dl>

</div>
</div>
<a class="anchor" id="aa601b0dd1c458c0891d9b95701783cbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_wrchar </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a character to the LCD display</p>
<p>Writes an ASCII character to the LCD display at the current cursor position</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>is the character to write to the display</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS </dd></dl>

</div>
</div>
<a class="anchor" id="afe2f830d3327ff46a55c402d81e03506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_LCD_wrstring </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a 0 terminated string to the LCD display</p>
<p>Writes the null terminated string "s" to the LCD display starting at the current cursor position</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*s</td><td>is a pointer to the string to display</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS</dd></dl>
<dl class="section note"><dt>Note</dt><dd>No size checking is done to make sure the string will fit into a single line, or the entire display, for that matter. Watch your string sizes. </dd></dl>

</div>
</div>
<a class="anchor" id="ad311997b5e0c6a5a6cc47c4e63a4e4de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_ROT_clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the rotary encoder count</p>
<p>Sets the rotary encoder count back to 0</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NONE</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS </dd></dl>

</div>
</div>
<a class="anchor" id="adae366ba0a8873bca2938adf8dc547fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PMDIO_ROT_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inc_dec_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>no_neg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the Rotary Encoder control logic</p>
<p>Configures the rotary encoder logic</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inc_dec_cnt</td><td>is the count for how much the rotary encorder increments or decrements each time the rotary encoder is turned. The count is truncated to 4 bits </td></tr>
    <tr><td class="paramname">no_neg</td><td>permits or prevents the rotary count from going below 0., no_neg true say do not allow negative counts.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Although it should be possible to change the configuration of the rotary encoder logic dynamically this is not recommended. There is a subtle bug that prevents consistent results. So it's best to cnly configure the rotary encoder logic during initialization. You could, of course, try it but caveat emptor. </dd></dl>

</div>
</div>
<a class="anchor" id="a161db615aceac52c2d77795817d44283"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PMDIO_ROT_isBtnPressed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns the state of the rotary encoder pusbbutton</p>
<p>Reads the ROTLCD_STS register to determine whether the rotary encoder shaft pushbutton is pressed</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NONE</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the button is pressed, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a52a18a9431d557fec24ab98a058a5f94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PMDIO_ROT_isSwOn </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns the state of the slide switch on the PmodENC</p>
<p>Reads the ROTLCD_STS register to determine whether the slide switch is on (up)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NONE</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the slide switch is on, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a32816b33d24f38d8f77fcc1d7f4aa06c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PMDIO_ROT_readRotcnt </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>rotaryCnt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the rotary encoder count into the u32 variable pointed to by rotaryCnt_p</p>
<p>Returns the rotary count. The rotary count is a 16-bit unsigned integer returned to an unsigned int.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rotaryCnt_p</td><td>is a pointer to the u32 variable that will receive the rotary count</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XST_SUCCESS </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 30 2014 14:22:03 for Pmod544IOR2 Driver API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
